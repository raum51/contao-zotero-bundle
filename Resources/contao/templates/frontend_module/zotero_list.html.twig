{% extends "@Contao/frontend_module/_base.html.twig" %}

{% block content %}
    <div class="zotero-list">
        {% if show_reader|default(false) and reader_module_id|default(0) %}
            {# Liste + Reader kombiniert: Lesemodul rendern (News-Pattern) #}
            {{ frontend_module(reader_module_id) }}
        {% elseif items|length > 0 %}
            {% if search_mode|default(false) %}
                <p class="zotero-list__search-info">
                    {{ 'tl_module.zotero_search_results'|trans }}{% if search_keywords|default %} „{{ search_keywords }}“{% endif %}
                </p>
            {% endif %}
            <ul class="zotero-list__items" role="list">
                {% for item in items %}
                    <li class="zotero-list__item">
                        {% if item.reader_url|default %}
                            <a href="{{ item.reader_url }}" class="zotero-list__link">
                                {% include "@Contao_Raum51ContaoZoteroBundle/zotero_item/" ~ item_template ~ ".html.twig" with {item: item} %}
                            </a>
                        {% else %}
                            {% include "@Contao_Raum51ContaoZoteroBundle/zotero_item/" ~ item_template ~ ".html.twig" with {item: item} %}
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
            {% if pagination|default and (pagination.prev_url or pagination.next_url) %}
                <nav class="zotero-list__pagination" aria-label="{{ 'MSC.pagination'|trans }}">
                    {% if pagination.prev_url %}
                        <a href="{{ pagination.prev_url }}" class="zotero-list__pagination-prev">{{ 'MSC.previous'|trans }}</a>
                    {% endif %}
                    {% if pagination.next_url %}
                        <a href="{{ pagination.next_url }}" class="zotero-list__pagination-next">{{ 'MSC.next'|trans }}</a>
                    {% endif %}
                </nav>
            {% endif %}
        {% elseif search_mode|default(false) %}
            <p class="zotero-list__no-results">{{ 'tl_module.zotero_search_no_results'|trans }}</p>
        {% endif %}
    </div>
{% endblock %}
